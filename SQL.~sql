CREATE TABLE CLIENTE_JSI(
  NR_CNPJ        VARCHAR2(14),
  DS_RAZAOSOCIAL VARCHAR2(100),
  NM_FANTASIA    VARCHAR2(100),
  DS_ENDERECO    VARCHAR2(80),
  NR_TELEFONE    VARCHAR2(11),
  CONSTRAINT PKCLIENTE_JSI PRIMARY KEY (NR_CNPJ)
);

CREATE TABLE FUNCIONARIO_JSI(
  NR_CPF         VARCHAR2(11),
  NM_FUNCIONARIO VARCHAR2(100),
  DT_NASCIMENTO  DATE,
  DS_CARGO       VARCHAR2(50),
  NR_TELEFONE    VARCHAR2(11),
  DS_ENDERECO    VARCHAR2(80),
  DT_CONTRATACAO DATE,
  DS_STATUS      VARCHAR2(20),
  CONSTRAINT PKFUNCIONARIO_JSI PRIMARY KEY (NR_CPF)
);

CREATE TABLE FORNECEDOR_JSI(
  NR_CNPJ        VARCHAR2(14),
  DS_RAZAOSOCIAL VARCHAR2(100),
  NM_FANTASIA    VARCHAR2(100),
  DS_ENDERECO    VARCHAR2(80),
  NR_TELEFONE    VARCHAR2(11),
  CONSTRAINT PKFORNECEDOR_JSI PRIMARY KEY (NR_CNPJ)
);

CREATE TABLE VIAGEM_JSI(
  CD_VIAGEM          NUMBER(15),
  DT_IDA             DATE,
  DT_VOLTA           DATE,
  DS_VIAGEM          VARCHAR2(150),
  DS_STATUS          VARCHAR2(15),
  VL_DISPONIBILIZADO NUMBER(15,2),
  CONSTRAINT PKVIAGEM_JSI PRIMARY KEY (CD_VIAGEM)
);

CREATE TABLE CONTRATO_JSI(
  CD_CONTRATO  NUMBER(15),
  VL_TOTAL     NUMBER(15,2),
  DS_CONTRATO  VARCHAR2(300),
  DS_STATUS    VARCHAR2(12),
  DT_INICIO    DATE,
  DT_TERMINO   DATE,
  QT_PARCELAS  NUMBER(5),
  CNPJ_CLIENTE VARCHAR2(14),
  CONSTRAINT PKCONTRATO_JSI PRIMARY KEY (CD_CONTRATO),
  CONSTRAINT FKCLIENTE_JSI FOREIGN KEY (CNPJ_CLIENTE) REFERENCES CLIENTE_JSI(NR_CNPJ)
);

CREATE TABLE CONTRATO_VIAGEM_JSI(
  CD_CONTRATO_VIAGEM NUMBER(15),
  CD_CONTRATO        NUMBER(15),
  CD_VIAGEM          NUMBER(15),
  CONSTRAINT PKCONTRATO_VIAGEM_JSI PRIMARY KEY (CD_CONTRATO_VIAGEM),
  CONSTRAINT FKCONTRATO_JSI FOREIGN KEY (CD_CONTRATO) REFERENCES CONTRATO_JSI(CD_CONTRATO),
  CONSTRAINT FKVIAGEM_JSI FOREIGN KEY (CD_VIAGEM) REFERENCES VIAGEM_JSI(CD_VIAGEM)
);

CREATE TABLE RECEBIMENTO_JSI(
  CD_RECEBIMENTO NUMBER(15),
  DS_RECEBIMENTO VARCHAR2(200),
  CD_CONTRATO    NUMBER(15),
  VL_RECEBIMENTO NUMBER(15,2),
  DS_STATUS      VARCHAR2(20),
  DT_RECEBIMENTO DATE,
  DT_VENCIMENTO  DATE,
  CONSTRAINT PKRECEBIMENTO_JSI PRIMARY KEY (CD_RECEBIMENTO),
  CONSTRAINT FKCONTRATO_RECEBIMENTO_JSI FOREIGN KEY (CD_CONTRATO) REFERENCES CONTRATO_JSI (CD_CONTRATO)
);

/*CREATE TABLE FUNCIONARIO_VIAGEM_JSI(
  -- CD_FUNCIONARIO_VIAGEM NUMBER(15),
  NR_CPFFUNC            VARCHAR2(11),
  CD_VIAGEM             NUMBER(15),
  VL_DISPONIBILIZADO    NUMBER(15,2),
  DS_STATUS             VARCHAR2(30),
  -- CONSTRAINT PKFUNCIONARIO_VIAGEM_JSI PRIMARY KEY (CD_FUNCIONARIO_VIAGEM),
  CONSTRAINT FKFUNCIONARIO_FUNCVIAGEM_JSI FOREIGN KEY (NR_CPFFUNC) REFERENCES FUNCIONARIO_JSI (NR_CPF),
  CONSTRAINT FKVIAGEM_FUNCVIAGEM_JSI FOREIGN KEY (CD_VIAGEM) REFERENCES VIAGEM_JSI (CD_VIAGEM),
  CONSTRAINT PKFUNCIONARIO_VIAGEM_JSI PRIMARY KEY (CD_VIAGEM, NR_CPFFUNC)
);
*/
CREATE TABLE CATEGORIA_JSI(
  CD_CATEGORIA NUMBER(10),
  DS_CATEGORIA VARCHAR2(30),
  CONSTRAINT PKCATEGORIA_JSI PRIMARY KEY (CD_CATEGORIA)
);

CREATE TABLE DESPESA_JSI(
  CD_DESPESA   NUMBER(15),
  VL_DESPESA   NUMBER(15,2),
  DS_DESPESA   VARCHAR2(200),
  DT_DESPESA   DATE,
  DS_STATUS    VARCHAR2(30),
  NR_CPFFUNC   VARCHAR2(14),
  CD_CATEGORIA NUMBER(15),
  CD_VIAGEM    NUMBER(15),
  NR_CNPJFORN  VARCHAR2(14),
  CONSTRAINT PKDESPESA_JSI PRIMARY KEY (CD_DESPESA),
  CONSTRAINT FKCATEGORIA_DESPESA_JSI FOREIGN KEY (CD_CATEGORIA) REFERENCES CATEGORIA_JSI (CD_CATEGORIA),
  CONSTRAINT FKDESPESA_VIAGEM FOREIGN KEY (CD_VIAGEM) REFERENCES VIAGEM_JSI (CD_VIAGEM),
  CONSTRAINT FKDESPESA_FORNECEDOR_JSI FOREIGN KEY (NR_CNPJFORN) REFERENCES FORNECEDOR_JSI (NR_CNPJ)
);

CREATE TABLE PAGAMENTO_JSI(
  CD_PAGAMENTO NUMBER(15),
  DT_PAGAMENTO DATE,
  VL_PAGAMENTO NUMBER(15,2),
  CONSTRAINT PKPAGAMENTO_JSI PRIMARY KEY (CD_PAGAMENTO)
);

